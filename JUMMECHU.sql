DROP TABLE REVIEW2;
DROP TABLE LSTORE2;
DROP TABLE LMENU2;
DROP TABLE LCODE2;

CREATE TABLE LCODE2(
    FCODE2   NUMBER  PRIMARY KEY,
    FTYPE2   NVARCHAR2(5)
);

INSERT INTO LCODE2 VALUES(10, '한식');
INSERT INTO LCODE2 VALUES(20, '일식');
INSERT INTO LCODE2 VALUES(30, '중식');
INSERT INTO LCODE2 VALUES(40, '양식');

CREATE TABLE LMENU2(
    MCODE2 NUMBER PRIMARY KEY,
    MNAME2 NVARCHAR2(50)
);

INSERT INTO LMENU2 VALUES (1,'육회비빔밥');
INSERT INTO LMENU2 VALUES (2,'해물칼국수');
INSERT INTO LMENU2 VALUES (3,'설렁탕');
INSERT INTO LMENU2 VALUES (4,'순두부찌개');
INSERT INTO LMENU2 VALUES (5,'만두전골');
INSERT INTO LMENU2 VALUES (6,'찜닭');
INSERT INTO LMENU2 VALUES (7,'국물떡볶이');
INSERT INTO LMENU2 VALUES (8,'치즈떡볶이');
INSERT INTO LMENU2 VALUES (9,'떡볶이');
INSERT INTO LMENU2 VALUES (10,'샤브칼국수');
INSERT INTO LMENU2 VALUES (11,'추어탕');
INSERT INTO LMENU2 VALUES (12,'모밀');
INSERT INTO LMENU2 VALUES (13,'돈가스');
INSERT INTO LMENU2 VALUES (14,'회덮밥');
INSERT INTO LMENU2 VALUES (15,'왕돈가스');
INSERT INTO LMENU2 VALUES (16,'차돌짬뽕');
INSERT INTO LMENU2 VALUES (17,'짜장면');
INSERT INTO LMENU2 VALUES (18,'쌀국수');
INSERT INTO LMENU2 VALUES (19,'불고기버거');
INSERT INTO LMENU2 VALUES (20,'프랭크버거');

CREATE TABLE LSTORE2(
    SCODE2 NUMBER PRIMARY KEY,
    SNAME2 NVARCHAR2(20),
    STNUM2 NVARCHAR2(20),
    SADDR2 NVARCHAR2(50),
    FCODE2 CONSTRAINT FKFCODE REFERENCES LCODE2,
    MCODE2 CONSTRAINT FKMCODE REFERENCES LMENU2
);

INSERT INTO LSTORE2 VALUES (1,'육심','032-873-2564','인천 미추홀구 소성로 251',10,1);
INSERT INTO LSTORE2 VALUES (2,'서해해물칼국수','032-868-9476','인천 미추홀구 매소홀로446번길 20',10,2);
INSERT INTO LSTORE2 VALUES (3,'명가원설농탕','032-213-7771','인천 미추홀구 소성로 194',10,3);
INSERT INTO LSTORE2 VALUES (4,'부뚜막애순두부','032-862-3779','인천 미추홀구 매소홀로427번길 3 재상빌딩',10,4);
INSERT INTO LSTORE2 VALUES (5,'개성손만두','032-873-5041','인천 미추홀구 매소홀로 435',10,5);
INSERT INTO LSTORE2 VALUES (6,'두찜 학익점','0507-1408-3047(안심번호)','인천 미추홀구 매소홀로 470',10,6);
INSERT INTO LSTORE2 VALUES (7,'청년떡볶이(학익 1호점)','032-874-6233','인천 미추홀구 매소홀로 340 학익풍림아이원아파트',10,7);
INSERT INTO LSTORE2 VALUES (8,'청년떡볶이(학익 2호점)','0507-1405-0909(안심번호)','인천 미추홀구 매소홀로 474 107호',10,8);
INSERT INTO LSTORE2 VALUES (9,'불난국물떡볶이','032-875-8989','인천 미추홀구 매소홀로 442',10,9);
INSERT INTO LSTORE2 VALUES (10,'가회동샤브칼국수','0507-1387-3636(안심번호)','인천 미추홀구 매소홀로427번길 5 2층',10,10);
INSERT INTO LSTORE2 VALUES (11,'남원추어탕','032-874-1178','인천광역시 미추홀구 소성로256번길 5',10,11);
INSERT INTO LSTORE2 VALUES (12,'모밀가','032-425-5300','인천 미추홀구 소성로 274 한희빌딩',20,12);
INSERT INTO LSTORE2 VALUES (13,'생생돈가스','032-259-2340','인천 미추홀구 학익소로63번길 23-18',20,13);
INSERT INTO LSTORE2 VALUES (14,'하하횟집','032-874-6090','인천 미추홀구 소성로 236-1',20,14);
INSERT INTO LSTORE2 VALUES (15,'남산왕돈가스','032-876-0090','인천 미추홀구 소성로 177 동호빌딩',20,15);
INSERT INTO LSTORE2 VALUES (16,'당가원','0507-1405-1074(안심번호)','인천 미추홀구 매소홀로427번길 3 재상빌딩 1층',30,16);
INSERT INTO LSTORE2 VALUES (17,'중화루','032-433-7034','인천 미추홀구 소성로256번길 10-7',30,17);
INSERT INTO LSTORE2 VALUES (18,'대나무베트남쌀국수','0507-1326-2628(안심번호)','인천 미추홀구 소성로 192 1층',40,18);
INSERT INTO LSTORE2 VALUES (19,'롯데리아','032-873-4115','인천 미추홀구 매소홀로 466',40,19);
INSERT INTO LSTORE2 VALUES (20,'프랭크버거','032-876-9896','인천 미추홀구 매소홀로 468 1층',40,20);

CREATE TABLE REVIEW2(
    SKEYWORD1 NVARCHAR2(20),
    SKEYWORD2 NVARCHAR2(20),
    SKEYWORD3 NVARCHAR2(20),
    SCODE2 CONSTRAINT FKSCODE REFERENCES LSTORE2
);

INSERT INTO REVIEW2 VALUES ('맛있음','가성비좋음','친절함',1);
INSERT INTO REVIEW2 VALUES ('맛있음','신선함','양많음',2);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','매장넓음',3);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','신선함',4);
INSERT INTO REVIEW2 VALUES ('맛있음','신선함','양많음',5);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','양많음',6);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','가성비좋음',7);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','가성비좋음',8);
INSERT INTO REVIEW2 VALUES ('맛있음','등록된 키워드가 없어요.','등록된 키워드가 없어요.',9);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','가성비좋음',10);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','주차편함',11);
INSERT INTO REVIEW2 VALUES ('맛있음','가성비좋음','친절함',12);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','신선함',13);
INSERT INTO REVIEW2 VALUES ('맛있음','가성비좋음','신선함',14);
INSERT INTO REVIEW2 VALUES ('맛있음','양많음','친절함',15);
INSERT INTO REVIEW2 VALUES ('맛있음','양많음','친절함',16);
INSERT INTO REVIEW2 VALUES ('맛있음','가성비좋음','신선함',17);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','신선함',18);
INSERT INTO REVIEW2 VALUES ('맛있음','친절함','혼밥하기좋음',19);
INSERT INTO REVIEW2 VALUES ('맛있음','청결함','신선함',20);

COMMIT;

SELECT * FROM LCODE2;
SELECT * FROM LMENU2;
SELECT * FROM LSTORE2;
SELECT * FROM REVIEW2;


DELETE FROM LMENU2
WHERE MCODE2 > 20;

DELETE FROM LSTORE2
WHERE SCODE2 > 20;

DELETE FROM REVIEW2
WHERE SCODE2 > 20;

SELECT DISTINCT  L.MNAME2
FROM  LMENU2 L, LSTORE2 S
WHERE L.MCODE2 = S.MCODE2 AND FCODE2=10;

SELECT L.MNAME2 FROM LMENU2 L, LSTORE2 S WHERE L. MCODE2 =S. MCODE2 AND FCODE2 = 10;

SELECT L.MNAME2 FROM LMENU2 L, LSTORE2 S WHERE L.MCODE2 = S.MCODE2 AND FCODE2 = 10;
SELECT L.MNAME2 FROM LMENU2 L, LSTORE2 S WHERE L.MCODE2 = S.MCODE2 AND FCODE2 = 20;
SELECT L.MNAME2 FROM LMENU2 L, LSTORE2 S WHERE L.MCODE2 = S.MCODE2 AND FCODE2 = 30;
SELECT L.MNAME2 FROM LMENU2 L, LSTORE2 S WHERE L.MCODE2 = S.MCODE2 AND FCODE2 = 40;

SELECT MNAME2 FROM LMENU2;

SELECT S.SNAME2, S.STNUM2, S.SADDR2, R.SSTAR, R.SKEYWORD1, R.SKEYWORD2, R.SKEYWORD3 FROM LSTORE2 S, REVIEW2 R, LMENU2 M WHERE S.SCODE2 = R.SCODE2 AND S.MCODE2 = M.MCODE2 AND M.MNAME2 = '육회비빔밥';
SELECT S.SNAME2, S.STNUM2, S.SADDR2, R.SKEYWORD1, R.SKEYWORD2, R.SKEYWORD3 FROM LSTORE2 S, REVIEW2 R, LMENU2 M WHERE S.SCODE2 = R.SCODE2 AND S.MCODE2 = M.MCODE2 AND M.MNAME2 = 'ㅛ';
SELECT MAX(MCODE2) FROM LMENU2;
SELECT S.SNAME2, S.STNUM2, S.SADDR2, R.SKEYWORD1, R.SKEYWORD2, R.SKEYWORD3 FROM LSTORE2 S, REVIEW2 R, LMENU2 M WHERE S.SCODE2 = R.SCODE2 AND S.MCODE2 = M.MCODE2 AND M.MNAME2 = '육회비빔밥';
SELECT S.SNAME2, S.STNUM2, S.SADDR2, R.SKEYWORD1, R.SKEYWORD2, R.SKEYWORD3 FROM LSTORE2 S, REVIEW2 R, LMENU2 M WHERE S.SCODE2 = R.SCODE2 AND S.MCODE2 = M.MCODE2 AND M.MNAME2 = '왕돈가스';
SELECT MAX(SCODE2) FROM LSTORE2;

DELETE FROM LMENU2
WHERE MCODE2 = 0;


SELECT C.FTYPE2, M.MNAME2, S.SNAME2, S.STNUM2, S.SADDR2, R.SKEYWORD1, R.SKEYWORD2, R.SKEYWORD3 FROM LCODE2 C, LSTORE2 S, REVIEW2 R, LMENU2 M WHERE C.FCODE2 = S.FCODE2 AND S.SCODE2 = R.SCODE2 AND S.MCODE2 = M.MCODE2 AND M.MNAME2 = '육회비빔밥';




